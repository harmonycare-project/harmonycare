<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê·¸ë¦¼ í€´ì¦ˆ ê²Œì„</title>
    <link href="https://fonts.googleapis.com/css2?family=Dongle&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
            /* ê¸°ì¡´ ë°°ê²½ì€ JSì—ì„œ ë‚œì´ë„ í´ë˜ìŠ¤ê°€ ë¡œë“œëœ í›„ ì ìš©ë˜ë¯€ë¡œ, ê¸°ë³¸ê°’ë§Œ ìœ ì§€ */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            font-family: 'Dongle', sans-serif;
        }
        
        /* ë‚œì´ë„ë³„ í…Œë§ˆ */
        .easy-theme {
            /* ì‰¬ì›€: ì—°í•œ ì´ˆë¡ìƒ‰ ê³„ì—´ (í¸ì•ˆí•¨) */
            background: linear-gradient(to bottom, #e9f8e9, #c3e6c3);
            color: #333; /* ê¸°ë³¸ í…ìŠ¤íŠ¸ ìƒ‰ìƒ */
        }
        .easy-theme h1 {
            color: #4caf50; /* ì§„í•œ ì´ˆë¡ìƒ‰ */
        }
        .easy-theme #question {
            color: #38783a;
        }

        .normal-theme {
            /* ë³´í†µ: ì—°í•œ íŒŒë€ìƒ‰ ê³„ì—´ (ê· í˜•) */
            background: linear-gradient(to bottom, #f0f7fb, #b3d9ff);
            color: #333;
        }
        .normal-theme h1 {
            color: #2196f3; /* íŒŒë€ìƒ‰ */
        }
        .normal-theme #question {
            color: #1e70d4;
        }

        .hard-theme {
            /* ì–´ë ¤ì›€: ì—°í•œ ì£¼í™©ìƒ‰/í™©ìƒ‰ ê³„ì—´ (ë„ì „) */
            background: linear-gradient(to bottom, #fffbe9, #ffecb3);
            color: #333;
        }
        .hard-theme h1 {
            color: #ff9800; /* ì£¼í™©ìƒ‰ */
        }
        .hard-theme #question {
            color: #e68900;
        }


        h1 {
            font-size: 50px;
            margin-bottom: 10px;
        }
        #question {
            font-size: 40px;
            margin-bottom: 20px;
        }
        .options {
            display: none; /* ê²Œì„ ì‹œì‘ ì „ ìˆ¨ê¹€ */
            flex-direction: row;
            gap: 20px; 
        }
        .option-btn {
            border: 1px solid #333;
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            width: 180px;
            transition: transform 0.2s, background-color 0.3s, border-color 0.3s;
            background-color: #fff;
            font-size: 30px;
            text-align: center;
        }
        .option-btn:hover {
            transform: scale(1.05);
            background-color: #f1f8e9;
        }
        .option-btn img {
            width: 150px;
            height: 150px;
            display: block;
            margin: 0 auto;
            margin-bottom: 10px;
        }
        .option-btn svg {
            width: 150px;
            height: 150px;
            display: block;
            margin: 0 auto;
            margin-bottom: 10px;
        }
        /* ì´ëª¨ì§€ ì²˜ë¦¬ë¥¼ ìœ„í•œ ìŠ¤íƒ€ì¼ */
        .option-btn .emoji-icon {
            font-size: 100px; /* ì´ëª¨ì§€ë¥¼ í¬ê²Œ ë³´ì´ê²Œ í•¨ */
            line-height: 150px;
            height: 150px;
            display: block;
            margin: 0 auto;
            margin-bottom: 10px;
        }
        .option-btn.correct {
            background-color: #a5d6a7; /* Green */
            border-color: #4caf50;
        }
        .option-btn.incorrect {
            background-color: #ef9a9a; /* Red */
            border-color: #f44336;
        }
        
        /* ì‹œì‘/ê²°ê³¼ í™”ë©´ ìŠ¤íƒ€ì¼ */
        .result-screen, .start-screen {
            display: none; 
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            padding-top: 50px;
        }
        
        /* ë²„íŠ¼ ê³µí†µ ìŠ¤íƒ€ì¼ */
        .difficulty-buttons button, .result-screen button, #controlButtons button {
            font-family: 'Dongle', sans-serif;
            font-size: 30px;
            padding: 10px 25px;
            margin: 10px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            background-color: #ffd54f;
            transition: background-color 0.2s;
        }
        .difficulty-buttons button:hover {
            background-color: #ffc107;
        }

        /* í€´ì¦ˆ ì§„í–‰ ì¤‘ ì»¨íŠ¸ë¡¤ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        #controlButtons {
            display: none; /* ì´ˆê¸° ìƒíƒœ ìˆ¨ê¹€, ê²Œì„ ì‹œì‘ ì‹œ í‘œì‹œ */
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        #controlButtons button {
            font-size: 20px;
            padding: 8px 15px;
            margin: 5px;
            background-color: #90caf9; /* í•˜ëŠ˜ìƒ‰ ê³„ì—´ */
            color: #1a237e;
        }
        #controlButtons button:hover {
            background-color: #64b5f6;
        }

    </style>
</head>
<body>
    <h1 id="mainTitle">ê·¸ë¦¼ í€´ì¦ˆ ê²Œì„</h1>
    
    <div id="startScreen" class="start-screen">
        <h2>ë‚œì´ë„ë¥¼ ì„ íƒí•˜ì„¸ìš”</h2>
        <div class="difficulty-buttons">
            <button onclick="setDifficulty(5)">ì‰¬ì›€ (5ë¬¸ì œ)</button>
            <button onclick="setDifficulty(10)">ë³´í†µ (10ë¬¸ì œ)</button>
            <button onclick="setDifficulty(15)">ì–´ë ¤ì›€ (15ë¬¸ì œ)</button>
        </div>
    </div>
    
    <div id="question"></div>
    <div class="options">
        <div class="option-btn" id="option1" onclick="checkAnswer(1)"></div>
        <div class="option-btn" id="option2" onclick="checkAnswer(2)"></div>
        <div class="option-btn" id="option3" onclick="checkAnswer(3)"></div>
    </div>

    <div id="resultScreen" class="result-screen">
        <div id="finalScore"></div>
        <div id="congratulatoryMessage" style="font-size: 30px; margin-top: 10px;"></div>
    </div>
    
    <div id="controlButtons">
        <button onclick="restartGame()">ë‹¤ì‹œí•˜ê¸°</button>
        <button onclick="goHome()">í™ˆìœ¼ë¡œ</button>
    </div>

<script>
// --- ì´ 100ê°œì˜ ë¬¸ì œ ëª©ë¡ (ê¸°ì¡´ ì´ë¯¸ì§€ íŒŒì¼ + ìƒˆë¡œìš´ ì´ëª¨ì§€/SVG) ---
const allQuestions = [
    // [ê¸°ì¡´ ë¬¸ì œ 1-9] - ì´ë¯¸ì§€ íŒŒì¼ëª… ê·¸ëŒ€ë¡œ ìœ ì§€ (íŒŒì¼ì´ ì¡´ì¬í•´ì•¼ í•¨)
    { text: "ì‚¬ê³¼ëŠ” ë¬´ìŠ¨ ìƒ‰?", options: ["ë¹¨ê°•", "íŒŒë‘", "ë³´ë¼"], images: ["apple_r.png", "apple_b.png", "apple_purple.png"], answer: 1 },
    { text: "ê°•ì•„ì§€ëŠ”?", options: ["ë™ë¬¼", "ê³¼ì¼", "ìë™ì°¨"], images: ["dog.png", "fruit.png", "car.png"], answer: 1 },
    { text: "ë°”ë‚˜ë‚˜ëŠ” ë¬´ìŠ¨ ìƒ‰?", options: ["ë…¸ë‘", "ì´ˆë¡", "ë¶„í™"], images: ["banana.png", "bananag.png", "bananapink.png"], answer: 1 },
    { text: "í˜¸ë‘ì´ ê·¸ë¦¼ì„ ì°¾ìœ¼ì„¸ìš”", options: ["í˜¸ë‘ì´", "ì‚¬ì", "ì½”ë¼ë¦¬"], images: ["tiger.png", "lion.png", "elephant.png"], answer: 1 },
    { text: "ë¼ì§€ ê·¸ë¦¼ì„ ì°¾ìœ¼ì„¸ìš”", options: ["í† ë¼", "ë¼ì§€", "ë§"], images: ["rabbit.png", "pig.png", "horse.png"], answer: 2 },
    { text: "ë‹¤ëŒì¥ ê·¸ë¦¼ì„ ì°¾ìœ¼ì„¸ìš”", options: ["ë‹¤ëŒì¥", "ê³ ì–‘ì´", "ê¸°ë¦°"], images: ["squirrel.png", "cat.png", "giraffe.png"], answer: 1 },
    { text: "í•˜ëŠ˜ì— ë–  ìˆëŠ” ê²ƒì€?", options: ["êµ¬ë¦„", "ë‚˜ë¬´", "ì§‘"], images: ["cloud.png", "tree.png", "house.png"], answer: 1 },
    { text: "ë¬¼ ì†ì—ì„œ ì‚¬ëŠ” ê²ƒì€?", options: ["ìƒˆ", "ë¬¼ê³ ê¸°", "ë‚˜ë¹„"], images: ["bird.png", "fish.png", "butterfly.png"], answer: 2 },
    { 
        text: "ì‹ í˜¸ë“±ì˜ ë¹¨ê°„ë¶ˆì€ ë¬´ì—‡ì„ ì˜ë¯¸í• ê¹Œìš”?", 
        options: ["ê°€ì„¸ìš”", "ì¤€ë¹„í•˜ì„¸ìš”", "ë©ˆì¶”ì„¸ìš”"], 
        images: [
            `<svg viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="#4CAF50"/></svg>`, 
            `<svg viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="#FFEB3B"/></svg>`, 
            `<svg viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="#F44336"/></svg>` 
        ], 
        answer: 3
    },

    // [ìƒˆë¡œ ì¶”ê°€ëœ ë¬¸ì œ 10-100] - ì´ëª¨ì§€ ë° SVGë¡œ ëŒ€ì²´
    { text: "í•´ë¥¼ í”¼í•  ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ìš°ì‚°", "ëª¨ì", "ì¥ê°‘"], images: ["â˜‚ï¸", "ğŸ§¢", "ğŸ§¤"], answer: 2 },
    { text: "í•˜ëŠ˜ìƒ‰ì¸ ê²ƒì€?", options: ["ì”ë””", "êµ¬ë¦„", "ë•…"], images: ["ğŸŒ¿", "ğŸŸ¦", "ğŸŸ«"], answer: 2 },
    { text: "ìŒì‹ì„ ë¨¹ì„ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["í¬í¬", "ì—°í•„", "ë¹—"], images: ["ğŸ´", "âœï¸", "ğŸª®"], answer: 1 },
    { text: "ë¹„ê°€ ì˜¬ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ìš°ì‚°", "ì„ í’ê¸°", "ë‚œë¡œ"], images: ["â˜”", "ğŸ’¨", "ğŸ”¥"], answer: 1 },
    { text: "íƒˆ ìˆ˜ ìˆëŠ” ê²ƒì€?", options: ["ì»µ", "ë¹„í–‰ê¸°", "ì–‘ë§"], images: ["â˜•", "âœˆï¸", "ğŸ§¦"], answer: 2 },
    { text: "ë°¤ì— ëœ¨ëŠ” ê²ƒì€?", options: ["íƒœì–‘", "ë‹¬", "ë¬´ì§€ê°œ"], images: ["â˜€ï¸", "ğŸŒ™", "ğŸŒˆ"], answer: 2 },
    { text: "í•™êµì—ì„œ ê³µë¶€í•  ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ê°€ë°©", "ì±…ìƒ", "ëª¨ë‘"], images: ["ğŸ’", "ğŸ“š", "âœ…"], answer: 3 },
    { text: "ë…¸ë˜ë¥¼ ë¶€ë¥¼ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ë§ˆì´í¬", "ê°€ìœ„", "ì"], images: ["ğŸ¤", "âœ‚ï¸", "ğŸ“"], answer: 1 },
    { text: "ì˜·ì„ ì…ëŠ” ê³³ì€?", options: ["ì£¼ë°©", "í™”ì¥ì‹¤", "ë°©"], images: ["ğŸ³", "ğŸš½", "ğŸšª"], answer: 3 },
    { text: "ì†ì„ ì”»ì„ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ë¹„ëˆ„", "íœ´ì§€", "ë¹—"], images: ["ğŸ§¼", "ğŸ§»", "ğŸª®"], answer: 1 },
    { text: "í† ë¼ ê·¸ë¦¼ì„ ì°¾ìœ¼ì„¸ìš”", options: ["ê³°", "í† ë¼", "ì—¬ìš°"], images: ["ğŸ»", "ğŸ‡", "ğŸ¦Š"], answer: 2 },
    { text: "ì‹œì›í•œ ìŒë£ŒëŠ”?", options: ["ì»¤í”¼", "ì½œë¼", "ìˆ˜í”„"], images: ["â˜•", "ğŸ¥¤", "ğŸ¥£"], answer: 2 },
    { text: "ë¹¨ê°„ìƒ‰ ê³¼ì¼ì€?", options: ["í¬ë„", "ë”¸ê¸°", "ë°°"], images: ["ğŸ‡", "ğŸ“", "ğŸ"], answer: 2 },
    { text: "ë‘¥ê·¼ ëª¨ì–‘ì˜ ì±„ì†ŒëŠ”?", options: ["ë‹¹ê·¼", "ì–‘íŒŒ", "ì˜¤ì´"], images: ["ğŸ¥•", "ğŸ§…", "ğŸ¥’"], answer: 2 },
    { text: "í„¸ì´ ë§ì€ ë™ë¬¼ì€?", options: ["ë±€", "ì–‘", "ê±°ë¶ì´"], images: ["ğŸ", "ğŸ‘", "ğŸ¢"], answer: 2 },
    { text: "ê¸¸ì— ë‹¤ë‹ˆëŠ” ê²ƒì€?", options: ["ë°°", "ê¸°ì°¨", "ë²„ìŠ¤"], images: ["ğŸš¢", "ğŸš‚", "ğŸšŒ"], answer: 3 },
    { text: "ëª¸ì„ ë‹¦ì„ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ìˆ˜ê±´", "ì ‘ì‹œ", "ì—°í•„"], images: ["ğŸ§–â€â™€ï¸", "ğŸ½ï¸", "âœï¸"], answer: 1 },
    { text: "ì ì„ ì˜ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ë² ê°œ", "ì‹œê³„", "ë‹¬ë ¥"], images: ["ğŸ˜´", "â°", "ğŸ“…"], answer: 1 },
    { text: "ì“°ë ˆê¸°ë¥¼ ë²„ë¦¬ëŠ” ê³³ì€?", options: ["ì“°ë ˆê¸°í†µ", "í™”ë¶„", "ëƒ‰ì¥ê³ "], images: ["ğŸ—‘ï¸", "ğŸª´", "ğŸ§Š"], answer: 1 },
    { text: "ë¹„ë¥¼ ë§‰ëŠ” ê²ƒì€?", options: ["ëª¨ë˜", "ëŒ", "ì§€ë¶•"], images: ["ğŸ–ï¸", "ğŸª¨", "ğŸ¡"], answer: 3 },
    { text: "íŒŒë€ìƒ‰ì¸ ê²ƒì€?", options: ["ë‚˜ë¬´", "í•˜ëŠ˜", "ë°”ë‚˜ë‚˜"], images: ["ğŸŒ³", "ğŸŸ¦", "ğŸŒ"], answer: 2 },
    { text: "ë‚ ì”¨ë¥¼ ì•Œë ¤ì£¼ëŠ” ê²ƒì€?", options: ["ì‹ ë¬¸", "TV", "ì»´í“¨í„°"], images: ["ğŸ“°", "ğŸ“º", "ğŸ’»"], answer: 2 },
    { text: "ì½”ë¼ë¦¬ ê·¸ë¦¼ì„ ì°¾ìœ¼ì„¸ìš”", options: ["ê¸°ë¦°", "ì½”ë¼ë¦¬", "í•˜ë§ˆ"], images: ["ğŸ¦’", "ğŸ˜", "ğŸ¦›"], answer: 2 },
    { text: "ì†ì— ë“¤ê³  ì“°ëŠ” ê²ƒì€?", options: ["ì˜ì", "í•¸ë“œí°", "ì±…ì¥"], images: ["ğŸª‘", "ğŸ“±", "ğŸ“š"], answer: 2 },
    { text: "ì¶”ìš¸ ë•Œ ì…ëŠ” ê²ƒì€?", options: ["ë°˜ë°”ì§€", "ì½”íŠ¸", "ìƒŒë“¤"], images: ["ğŸ©³", "ğŸ§¥", "ğŸ‘¡"], answer: 2 },
    { text: "ì°¨ë¥¼ ë§ˆì‹¤ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ì»µ", "ì ‘ì‹œ", "ëƒ„ë¹„"], images: ["â˜•", "ğŸ½ï¸", "ğŸ²"], answer: 1 },
    { text: "ì†ìœ¼ë¡œ ì¡ê³  ì“°ëŠ” ê²ƒì€?", options: ["ë¹—ìë£¨", "ì±…", "ê°€ìœ„"], images: ["ğŸ§¹", "ğŸ“–", "âœ‚ï¸"], answer: 3 },
    { text: "ì•‰ì„ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ì¹¨ëŒ€", "ì˜ì", "ì˜·ì¥"], images: ["ğŸ›ï¸", "ğŸª‘", "ğŸ‘š"], answer: 2 },
    { text: "ë¶ˆì„ ëŒ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ë¬¼", "ê¸°ë¦„", "ë¶ˆê½ƒ"], images: ["ğŸ’§", "â›½", "ğŸ”¥"], answer: 1 },
    { text: "ë°°ê°€ ê³ í”Œ ë•Œ ë¨¹ëŠ” ê²ƒì€?", options: ["ì±…", "ì‹œê³„", "ë°¥"], images: ["ğŸ“–", "â°", "ğŸš"], answer: 3 },
    { text: "í•™êµì— ê°€ëŠ” ê²ƒì€?", options: ["í•™ìƒ", "ê²½ì°°", "ì˜ì‚¬"], images: ["ğŸ§‘â€ğŸ“", "ğŸ‘®", "ğŸ§‘â€âš•ï¸"], answer: 1 },
    { text: "ì†Œë°©ì°¨ëŠ” ë¬´ìŠ¨ ìƒ‰?", options: ["ë…¸ë‘", "ë¹¨ê°•", "íŒŒë‘"], images: ["ğŸŸ¨", "ğŸŸ¥", "ğŸŸ¦"], answer: 2 },
    { text: "ìƒˆê°€ ì‚¬ëŠ” ê³³ì€?", options: ["ë¬¼", "ë•…", "ë‘¥ì§€"], images: ["ğŸŒŠ", "ğŸŸ«", "ğŸ¥š"], answer: 3 },
    { text: "ë•… ì†ì—ì„œ ìë¼ëŠ” ê²ƒì€?", options: ["ì‚¬ê³¼", "ê°ì", "ë”¸ê¸°"], images: ["ğŸ", "ğŸ¥”", "ğŸ“"], answer: 2 },
    { text: "ì•„ì¹¨ ì¸ì‚¬ëŠ”?", options: ["ì˜ ê°€", "ì•ˆë…•", "ê³ ë§ˆì›Œ"], images: ["ğŸ‘‹", "ğŸ¤", "ğŸ™"], answer: 2 },
    { text: "ìŒë£Œìˆ˜ë¥¼ ë§ˆì‹¤ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ë¹¨ëŒ€", "ì “ê°€ë½", "ê°€ìœ„"], images: ["ğŸ¥¤", "ğŸ¥¢", "âœ‚ï¸"], answer: 1 },
    { text: "ìì „ê±°ì— ìˆëŠ” ê²ƒì€?", options: ["ë°”í€´", "ë‚ ê°œ", "ê¼¬ë¦¬"], images: ["â­•", "ğŸ•Šï¸", "ğŸ¦Š"], answer: 1 },
    { text: "ë°œì— ì‹ ëŠ” ê²ƒì€?", options: ["ëª¨ì", "ì–‘ë§", "ì¥ê°‘"], images: ["ğŸ§¢", "ğŸ§¦", "ğŸ§¤"], answer: 2 },
    { text: "ì±…ì„ ì½ëŠ” ê³³ì€?", options: ["ì£¼ë°©", "ë„ì„œê´€", "ì°¨ê³ "], images: ["ğŸ³", "ğŸ“š", "ğŸš—"], answer: 2 },
    { text: "ì˜·ì„ ê¹¨ë—í•˜ê²Œ í•˜ëŠ” ê²ƒì€?", options: ["íœ´ì§€", "ì„¸íƒê¸°", "ì ‘ì‹œ"], images: ["ğŸ§»", "ğŸ§º", "ğŸ½ï¸"], answer: 2 },
    { text: "ë¹„ë¥¼ ë§ëŠ” ê²ƒì€?", options: ["ë‚˜ë¬´", "ë¶ˆ", "ë²½"], images: ["ğŸŒ³", "ğŸ”¥", "ğŸ§±"], answer: 1 },
    { text: "ê±°ìš¸ì— ë³´ì´ëŠ” ê²ƒì€?", options: ["ìì‹ ", "ë‹¤ë¥¸ì‚¬ëŒ", "í•˜ëŠ˜"], images: ["ğŸ‘¤", "ğŸ‘¥", "â˜ï¸"], answer: 1 },
    { text: "ê¸€ì„ ì“¸ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ì§€ìš°ê°œ", "ì—°í•„", "ì±…ìƒ"], images: ["ğŸ§¼", "âœï¸", "ğŸª‘"], answer: 2 },
    { text: "ë‹¬ì½¤í•œ ê³¼ì¼ì€?", options: ["ë ˆëª¬", "ì‚¬íƒ•", "ì†Œê¸ˆ"], images: ["ğŸ‹", "ğŸ¬", "ğŸ§‚"], answer: 2 },
    { text: "ì¶”ìš¸ ë•Œ ëª¸ì„ ë”°ëœ»í•˜ê²Œ í•˜ëŠ” ê²ƒì€?", options: ["ì–¼ìŒ", "ë‚œë¡œ", "ë°”ëŒ"], images: ["ğŸ§Š", "ğŸ”¥", "ğŸ’¨"], answer: 2 },
    { text: "ìƒˆë¼ë¥¼ ë‚³ëŠ” ë™ë¬¼ì€?", options: ["ë±€", "ë‹­", "ê°•ì•„ì§€"], images: ["ğŸ", "ğŸ”", "ğŸ¶"], answer: 3 },
    { text: "ë¬¼ì„ ë§ˆì‹¤ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ì‹ ë°œ", "ì»µ", "ì˜ì"], images: ["ğŸ‘Ÿ", "ğŸ¥¤", "ğŸª‘"], answer: 2 },
    { text: "í•´ë³€ì—ì„œ ë³¼ ìˆ˜ ìˆëŠ” ê²ƒì€?", options: ["ëˆˆ", "ëª¨ë˜", "êµ¬ë¦„"], images: ["â„ï¸", "ğŸ–ï¸", "â˜ï¸"], answer: 2 },
    { text: "ê°€ìœ„ë¥¼ ë“¤ê³  ì“°ëŠ” ê²ƒì€?", options: ["ì†", "ë°œ", "ì…"], images: ["âœ‹", "ğŸ¦¶", "ğŸ‘„"], answer: 1 },
    { text: "ë‹¬ë¦¬ê¸°ë¥¼ í•  ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ì±…", "ìš´ë™í™”", "ì‹œê³„"], images: ["ğŸ“–", "ğŸ‘Ÿ", "â°"], answer: 2 },
    { text: "ë¹¨ë˜ë¥¼ ë„ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ì˜·ê±¸ì´", "ë§ì¹˜", "ë“œë¼ì´ë²„"], images: ["ğŸ‘š", "ğŸ”¨", "ğŸ”§"], answer: 1 }, 
    { text: "ì–‘ì¹˜ì§ˆì„ í•  ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ë¹„ëˆ„", "ì¹«ì†”", "ìƒ´í‘¸"], images: ["ğŸ§¼", "ğŸª¥", "ğŸ§´"], answer: 2 },
    { text: "ëƒ‰ì¥ê³ ì— ë„£ëŠ” ê²ƒì€?", options: ["ë”°ëœ»í•œ ë¬¼", "ìŒë£Œìˆ˜", "ì˜·"], images: ["â™¨ï¸", "ğŸ¥¤", "ğŸ‘•"], answer: 2 },
    { text: "ë¹„ëˆ—ë°©ìš¸ì´ ìƒê¸°ëŠ” ê²ƒì€?", options: ["ë¬¼", "ë¹„ëˆ„", "ëŒ"], images: ["ğŸ’§", "ğŸ§¼", "ğŸª¨"], answer: 2 },
    { text: "ì•„ê¸°ê°€ íƒ€ëŠ” ê²ƒì€?", options: ["ìì „ê±°", "ìœ ëª¨ì°¨", "ë²„ìŠ¤"], images: ["ğŸš²", "ğŸš¼", "ğŸšŒ"], answer: 2 },
    { text: "ë•…ì„ íŒŒëŠ” ë° ì“°ëŠ” ê²ƒì€?", options: ["ì‚½", "ë¹—", "ì ‘ì‹œ"], images: ["ğŸª“", "ğŸª®", "ğŸ½ï¸"], answer: 1 },
    { text: "ì‚¬ì§„ì„ ì°ëŠ” ê²ƒì€?", options: ["ì¹´ë©”ë¼", "ì—°í•„", "ì‹œê³„"], images: ["ğŸ“¸", "âœï¸", "â°"], answer: 1 },
    { text: "ë¨¸ë¦¬ë¥¼ ë¹—ì„ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ìˆ˜ê±´", "ë¹—", "ì»µ"], images: ["ğŸ§–â€â™€ï¸", "ğŸª®", "â˜•"], answer: 2 },
    { text: "ìƒì¼ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ì´›ë¶ˆ", "ë‹¬ë ¥", "ì‹œê³„"], images: ["ğŸ•¯ï¸", "ğŸ“…", "â°"], answer: 1 },
    { text: "ë°”ë‹¤ì— ì‚¬ëŠ” ë™ë¬¼ì€?", options: ["ê³ ì–‘ì´", "ëŒê³ ë˜", "ë§"], images: ["ğŸˆ", "ğŸ¬", "ğŸ"], answer: 2 },
    { text: "ì˜·ì„ ê±°ëŠ” ê²ƒì€?", options: ["ì±…ìƒ", "ì˜·ì¥", "ë°”ë‹¥"], images: ["ğŸª‘", "ğŸ‘š", "â¬‡ï¸"], answer: 2 },
    { text: "ì†ì— ë¼ëŠ” ê²ƒì€?", options: ["ì¥ê°‘", "ì–‘ë§", "ëª¨ì"], images: ["ğŸ§¤", "ğŸ§¦", "ğŸ§¢"], answer: 1 },
    { text: "ì†ìœ¼ë¡œ ë§Œì§ˆ ìˆ˜ ìˆëŠ” ê²ƒì€?", options: ["ë°”ëŒ", "ë¬¼", "ê³µ"], images: ["ğŸ’¨", "ğŸ’§", "âš½"], answer: 3 },
    { text: "ë•…ì— ë–¨ì–´ì§€ëŠ” ê²ƒì€?", options: ["ë¹„", "êµ¬ë¦„", "ë³„"], images: ["ğŸŒ§ï¸", "â˜ï¸", "â­"], answer: 1 },
    { text: "ì£¼í™©ìƒ‰ì¸ ê²ƒì€?", options: ["ê·¤", "í¬ë„", "ë°”ë‚˜ë‚˜"], images: ["ğŸŠ", "ğŸ‡", "ğŸŒ"], answer: 1 },
    { text: "ì“°ëŠ” ë„êµ¬ëŠ”?", options: ["ì—°í•„", "ì§€ìš°ê°œ", "ê°€ìœ„"], images: ["âœï¸", "ğŸ§¼", "âœ‚ï¸"], answer: 1 },
    { text: "ì‹œì›í•œ ë°”ëŒì„ ì¼ìœ¼í‚¤ëŠ” ê²ƒì€?", options: ["ì„ í’ê¸°", "ë‚œë¡œ", "ë¬¼"], images: ["ğŸ’¨", "ğŸ”¥", "ğŸ’§"], answer: 1 },
    { text: "ë°¥ì„ ë¨¹ì„ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ìˆŸê°€ë½", "ë¹—", "ì§€ê°‘"], images: ["ğŸ¥„", "ğŸª®", "ğŸ‘›"], answer: 1 },
    { text: "ìƒ‰ê¹”ì´ ë¹¨ê°•ì¸ ê²ƒì€?", options: ["ë°°", "ìˆ˜ë°•", "ê·¤"], images: ["ğŸ", "ğŸ‰", "ğŸŠ"], answer: 2 },
    { text: "ì—¬ë¦„ì— ë¨¹ëŠ” ê²ƒì€?", options: ["ëˆˆì‚¬ëŒ", "ì•„ì´ìŠ¤í¬ë¦¼", "í•«íŒ©"], images: ["â›„", "ğŸ¦", "â™¨ï¸"], answer: 2 },
    { text: "ì „í™”í•  ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ê°€ë°©", "í•¸ë“œí°", "ì±…"], images: ["ğŸ’", "ğŸ“±", "ğŸ“–"], answer: 2 },
    { text: "ëª¸ì— ì¢‹ì€ ê²ƒì€?", options: ["ë‹´ë°°", "ì±„ì†Œ", "ê³¼ì"], images: ["ğŸš¬", "ğŸ¥¬", "ğŸª"], answer: 2 },
    { text: "ëƒ„ìƒˆë¥¼ ë§¡ì„ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ê·€", "ì½”", "ëˆˆ"], images: ["ğŸ‘‚", "ğŸ‘ƒ", "ğŸ‘ï¸"], answer: 2 },
    { text: "ì‹œê°„ì„ ì•Œë ¤ì£¼ëŠ” ê²ƒì€?", options: ["ë‹¬ë ¥", "ì‹œê³„", "ì§€ë„"], images: ["ğŸ“…", "â°", "ğŸ—ºï¸"], answer: 2 },
    { text: "ëˆì„ ë„£ëŠ” ê³³ì€?", options: ["ì£¼ë¨¸ë‹ˆ", "ì§€ê°‘", "ì—´ì‡ "], images: ["ğŸ‘–", "ğŸ‘›", "ğŸ”‘"], answer: 2 },
    { text: "í•˜ì–€ìƒ‰ ë™ë¬¼ì€?", options: ["ê°œë¯¸", "í­ê·„", "íŒ¬ë”"], images: ["ğŸœ", "ğŸ§", "ğŸ¼"], answer: 2 },
    { text: "ë‚˜ë¬´ ìœ„ì— ì‚¬ëŠ” ê²ƒì€?", options: ["ë¬¼ê³ ê¸°", "ìƒˆ", "í† ë¼"], images: ["ğŸŸ", "ğŸ¦", "ğŸ‡"], answer: 2 },
    { text: "ì°¨ì— ìˆëŠ” ê²ƒì€?", options: ["ë‚ ê°œ", "ë°”í€´", "ê¼¬ë¦¬"], images: ["ğŸ•Šï¸", "â­•", "ğŸ¦Š"], answer: 2 },
    { text: "ë°©ì„ ë°ê²Œ í•˜ëŠ” ê²ƒì€?", options: ["ê±°ìš¸", "ì „ë“±", "ê·¸ë¦¼"], images: ["ğŸª", "ğŸ’¡", "ğŸ–¼ï¸"], answer: 2 },
    { text: "ë¹µì„ êµ¬ìš¸ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ëƒ‰ì¥ê³ ", "ì˜¤ë¸", "ì‹íƒ"], images: ["ğŸ§Š", "ğŸ”¥", "ğŸª‘"], answer: 2 },
    { text: "ì‹ ë¬¸ì„ ì½ì„ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ì±…", "ë‹ë³´ê¸°", "ê°€ìœ„"], images: ["ğŸ“–", "ğŸ”", "âœ‚ï¸"], answer: 2 },
    { text: "ë¬¼ê³ ê¸°ê°€ ìˆ¨ì‰¬ëŠ” ê³³ì€?", options: ["í•˜ëŠ˜", "ë¬¼", "ë•…"], images: ["â˜ï¸", "ğŸ’§", "ğŸŸ«"], answer: 2 },
    { text: "ì¶”ìš¸ ë•Œ ëœ¨ê±°ìš´ ê²ƒì€?", options: ["ëˆˆ", "ì°¨", "ì–¼ìŒ"], images: ["â„ï¸", "â˜•", "ğŸ§Š"], answer: 2 },
    { text: "ë¹„í–‰ê¸°ê°€ ë‹¤ë‹ˆëŠ” ê³³ì€?", options: ["ë°”ë‹¤", "í•˜ëŠ˜", "ì‚°"], images: ["ğŸŒŠ", "â˜ï¸", "â›°ï¸"], answer: 2 },
    { text: "ìˆ«ì 5ë¥¼ ì°¾ìœ¼ì„¸ìš”", options: ["2", "5", "8"], images: ["2ï¸âƒ£", "5ï¸âƒ£", "8ï¸âƒ£"], answer: 2 },
    { text: "ë™ë¬¼ ê·¸ë¦¼ì„ ì°¾ìœ¼ì„¸ìš”", options: ["ì˜ì", "ê³ ì–‘ì´", "ì—°í•„"], images: ["ğŸª‘", "ğŸˆ", "âœï¸"], answer: 2 },
    { text: "ë¹¨ê°„ìƒ‰ì¸ ê²ƒì€?", options: ["ë‚˜ë¬´", "ë”¸ê¸°", "ë°”ë‚˜ë‚˜"], images: ["ğŸŒ³", "ğŸ“", "ğŸŒ"], answer: 2 },
    { text: "ë°”í€´ê°€ 4ê°œì¸ ê²ƒì€?", options: ["ìì „ê±°", "ìë™ì°¨", "ì˜¤í† ë°”ì´"], images: ["ğŸš²", "ğŸš—", "ğŸ›µ"], answer: 2 },
    { text: "ì†Œë¦¬ë¥¼ ë“¤ì„ ë•Œ ì“°ëŠ” ê²ƒì€?", options: ["ëˆˆ", "ê·€", "ì½”"], images: ["ğŸ‘ï¸", "ğŸ‘‚", "ğŸ‘ƒ"], answer: 2 },
    { text: "ì•„ê¸°ê°€ ë¨¹ëŠ” ê²ƒì€?", options: ["ê³ ê¸°", "ìš°ìœ ", "ë¼ë©´"], images: ["ğŸ¥©", "ğŸ¥›", "ğŸœ"], answer: 2 },
    { text: "ì‹ë¬¼ ê·¸ë¦¼ì„ ì°¾ìœ¼ì„¸ìš”", options: ["ëŒ", "ê½ƒ", "ë¬¼"], images: ["ğŸª¨", "ğŸŒ¸", "ğŸ’§"], answer: 2 }
];

let currentQuiz = [];
let currentQuestionIndex = 0;
let score = 0;
let isAnswerable = true;
let currentQuizLength = 0;

const mainTitleEl = document.getElementById("mainTitle");
const questionEl = document.getElementById("question");
const optionsEl = document.querySelector(".options");
const startScreenEl = document.getElementById("startScreen");
const resultScreenEl = document.getElementById("resultScreen");
const controlButtonsEl = document.getElementById("controlButtons");
const bodyEl = document.body; // body ìš”ì†Œ ì ‘ê·¼ìš©

// ë‚œì´ë„ í…ìŠ¤íŠ¸ë¥¼ ë°˜í™˜í•˜ëŠ” í—¬í¼ í•¨ìˆ˜
function getDifficultyName(length) {
    if (length === 5) return "ì‰¬ì›€";
    if (length === 10) return "ë³´í†µ";
    if (length === 15) return "ì–´ë ¤ì›€";
    return "ê·¸ë¦¼";
}

// ë‚œì´ë„ì— í•´ë‹¹í•˜ëŠ” CSS í´ë˜ìŠ¤ë¥¼ ë°˜í™˜í•˜ëŠ” í—¬í¼ í•¨ìˆ˜
function getThemeClass(length) {
    if (length === 5) return "easy-theme";
    if (length === 10) return "normal-theme";
    if (length === 15) return "hard-theme";
    return "";
}

// ë‚œì´ë„ ì„¤ì • ë° ê²Œì„ ì‹œì‘ í•¨ìˆ˜
function setDifficulty(length) {
    currentQuizLength = length;
    const difficultyName = getDifficultyName(length);
    const themeClass = getThemeClass(length);

    // ì´ì „ í…Œë§ˆ í´ë˜ìŠ¤ë¥¼ ëª¨ë‘ ì œê±°í•˜ê³  ìƒˆ í…Œë§ˆ í´ë˜ìŠ¤ë¥¼ ì¶”ê°€
    bodyEl.classList.remove('easy-theme', 'normal-theme', 'hard-theme');
    bodyEl.classList.add(themeClass);

    // 1. HTML <title> íƒœê·¸ ì—…ë°ì´íŠ¸
    document.title = `${difficultyName} ë‚œì´ë„ | ê·¸ë¦¼ í€´ì¦ˆ ê²Œì„`;
    // 2. <h1> íƒœê·¸ ì—…ë°ì´íŠ¸
    mainTitleEl.innerText = `${difficultyName} ê·¸ë¦¼ í€´ì¦ˆ`;

    startScreenEl.style.display = 'none';
    optionsEl.style.display = 'flex';
    controlButtonsEl.style.display = 'flex';
    
    initializeQuiz();
}

function initializeQuiz() {
    const shuffled = [...allQuestions].sort(() => 0.5 - Math.random());
    currentQuiz = shuffled.slice(0, currentQuizLength);
    
    questionEl.style.display = 'block';
    
    loadQuestion();
}

function loadQuestion() {
    isAnswerable = true;
    
    // ë‹¤ìŒ ë¬¸ì œë¥¼ ë¡œë“œí•˜ê¸° ì „ì— ë¬¸ì œ í…ìŠ¤íŠ¸ë¥¼ ë¹„ì›Œ ì”ìƒì„ ì œê±°í•©ë‹ˆë‹¤.
    questionEl.innerText = '';
    
    // ë²„íŠ¼ ì´ˆê¸°í™”
    const optionButtons = document.querySelectorAll('.option-btn');
    optionButtons.forEach(btn => {
        btn.className = 'option-btn'; 
        btn.dataset.isCorrect = 'false';
    });


    const q = currentQuiz[currentQuestionIndex];
    // ë¬¸ì œ ë²ˆí˜¸ í‘œì‹œ ì—…ë°ì´íŠ¸
    questionEl.innerText = `Q${currentQuestionIndex + 1}. ${q.text}`; 

    // ì„ íƒì§€ êµ¬ì„±
    const optionsWithAnswers = q.options.map((optionText, index) => ({
        text: optionText,
        image: q.images[index],
        isCorrect: (index + 1) === q.answer
    }));

    const shuffledOptions = optionsWithAnswers.sort(() => 0.5 - Math.random());

    for (let i = 0; i < shuffledOptions.length; i++) {
        const btn = document.getElementById(`option${i+1}`);
        const option = shuffledOptions[i];
        const imageOrSvg = option.image;
        let imageHtml;

        // ì´ë¯¸ì§€ ì²˜ë¦¬ ë¡œì§
        if (imageOrSvg.trim().startsWith('<svg')) {
            imageHtml = imageOrSvg;
        } else if (imageOrSvg.length <= 4 && !imageOrSvg.includes('.')) {
            imageHtml = `<span class="emoji-icon">${imageOrSvg}</span>`;
        } else {
            imageHtml = `<img src="${imageOrSvg}" alt="${option.text}">`;
        }

        btn.innerHTML = `${imageHtml}<span>${option.text}</span>`;
        btn.dataset.isCorrect = option.isCorrect;
    }
}

function checkAnswer(choice) {
    if (!isAnswerable) return;
    isAnswerable = false;

    const selectedBtn = document.getElementById(`option${choice}`);
    
    if (selectedBtn.dataset.isCorrect === 'true') {
        score++;
        selectedBtn.classList.add('correct');
    } else {
        selectedBtn.classList.add('incorrect');
        const optionButtons = document.querySelectorAll('.option-btn');
        optionButtons.forEach(btn => {
            if (btn.dataset.isCorrect === 'true') {
                btn.classList.add('correct');
            }
        });
    }

    setTimeout(() => {
        currentQuestionIndex++;
        if (currentQuestionIndex >= currentQuiz.length) {
            showResult();
        } else {
            loadQuestion();
        }
    }, 1500); 
}

function showResult() {
    questionEl.style.display = 'none';
    optionsEl.style.display = 'none';
    controlButtonsEl.style.display = 'none';
    resultScreenEl.style.display = 'flex';

    // ê²°ê³¼ í™”ë©´ì— ë‹¤ì‹œí•˜ê¸°/í™ˆìœ¼ë¡œ ë²„íŠ¼ì„ ì¶”ê°€
    resultScreenEl.innerHTML = `
        <div id="finalScore"></div>
        <div id="congratulatoryMessage" style="font-size: 30px; margin-top: 10px;"></div>
        <button onclick="restartGame()">ë‹¤ì‹œí•˜ê¸°</button>
        <button onclick="goHome()">í™ˆìœ¼ë¡œ</button>
    `;

    document.getElementById('finalScore').innerText = `ì´ ${currentQuiz.length}ë¬¸ì œ ì¤‘ ${score}ë¬¸ì œë¥¼ ë§í˜”ì–´ìš”!`;

    const congratulatoryMessageEl = document.getElementById('congratulatoryMessage');
    let message = '';
    let messageColor = '';

    if (score === currentQuiz.length) {
        message = "ì™„ë²½í•´ìš”! ëª¨ë“  ë¬¸ì œë¥¼ ë§í˜”ì–´ìš”!";
        messageColor = '#4CAF50'; 
    } else if (score >= currentQuiz.length * 0.6) {
        message = "ì •ë§ ì˜í–ˆì–´ìš”! í›Œë¥­í•´ìš”!";
        messageColor = '#2196F3'; 
    } else if (score >= 1) {
        message = "ì˜í–ˆì–´ìš”! ë‹¤ìŒì—” ë” ì˜í•  ìˆ˜ ìˆì„ ê±°ì˜ˆìš”!";
        messageColor = '#FFC107'; 
    } else {
        message = "ê´œì°®ì•„ìš”! ë‹¤ì‹œ ë„ì „í•´ë´ìš”!";
        messageColor = '#F44336'; 
    }
    congratulatoryMessageEl.innerText = message;
    congratulatoryMessageEl.style.color = messageColor;
}

function restartGame() {
    currentQuestionIndex = 0;
    score = 0;
    currentQuizLength = 0;
    
    resultScreenEl.style.display = 'none';
    
    // ì˜µì…˜ ë²„íŠ¼ ë‚´ìš©ì„ ì™„ì „íˆ ë¹„ìš°ê³  í´ë˜ìŠ¤ ì´ˆê¸°í™”
    const optionButtons = document.querySelectorAll('.option-btn');
    optionButtons.forEach(btn => {
        btn.innerHTML = '';
        btn.className = 'option-btn'; 
    });
    
    // ê²°ê³¼ í™”ë©´ ë‚´ìš©ë„ ë¹„ì›Œì¤ë‹ˆë‹¤.
    resultScreenEl.innerHTML = `<div id="finalScore"></div>
                                <div id="congratulatoryMessage" style="font-size: 30px; margin-top: 10px;"></div>`; 

    questionEl.style.display = 'none';
    controlButtonsEl.style.display = 'none';
    
    // í€´ì¦ˆ ì˜µì…˜ ì»¨í…Œì´ë„ˆë¥¼ ìˆ¨ê¹ë‹ˆë‹¤.
    optionsEl.style.display = 'none'; 
    
    // í…Œë§ˆ í´ë˜ìŠ¤ ì œê±°
    bodyEl.classList.remove('easy-theme', 'normal-theme', 'hard-theme');

    // ì œëª© ì´ˆê¸°í™”
    document.title = "ê·¸ë¦¼ í€´ì¦ˆ ê²Œì„";
    mainTitleEl.innerText = "ê·¸ë¦¼ í€´ì¦ˆ ê²Œì„";

    startScreenEl.style.display = 'flex';
}

function goHome() {
    window.location.href = 'main.html';
}

// ê²Œì„ ë¡œë“œ ì‹œ ë‚œì´ë„ ì„ íƒ í™”ë©´ì„ í‘œì‹œí•©ë‹ˆë‹¤.
window.onload = function() {
    questionEl.style.display = 'none';
    startScreenEl.style.display = 'flex';
    optionsEl.style.display = 'none'; 
};
</script>

</body>
</html>
